# PDB to Minecraft
## Author: Markus Nevil

The structures of proteins and other biomolecules determined by X-ray crystallography, NMR, and cryo-EM are published at the RCSB Protein Data Bank (rcsb.org). These structures are primarily viewed using free or paid utilites whose learning curve may pose an inaccessible barrier to for educators, students, and the general public. This program's purpose is to make a fun and accessible alternative by generating files that can be loaded by the popular video game Minecraft. This guide includes a quick start, glossary of terms, description of features, and a walk through to generate a model of the included GFP model.

## Quick Start:

1. Download the latest release of the program from Github via a Zip file.
2. Extract the contents of the Zip file to a folder
3. Open the program by double-clicking the `main.exe` file

## Walkthrough of GFP model (included and downloaded from RCSB PDB)

### Prepare a new Minecraft world - this must be done at least once for best results
1. Open Minecraft (without any mods) and follow these steps to prepare a `Superflat Creative` world
    1. Select `Single Player`
    2. Select `Create New World`

2. On the `Game` tab, change the following:
    1. Change the `World Name` to something you will recognize.
    2. `Game Mode: Creative`
    3. `Difficulty: Peaceful`'
    4. `Allow Cheats: ON`
![MC1.png](images%2FMC1.png)

4. On the 'World' tab, change the following:
    1. `World Type: Superflat`
    2. `Generate Structures: OFF`
![MC2.png](images%2FMC2.png)

5. On the `More` tab, select `Game Rules` to change the following
    1. `Spawn phantoms OFF`
   2. `Max Command Chain Length: 1000000 (or higher)`
    2. `Spawn mobs OFF`
    3. `Spawn pillager patrols OFF`
    4. `Spawn Wandering Traders OFF`
    5. `Spawn Wardens OFF`
    6. `Advance time of day OFF`
    7. `Update weather OFF`
![MC3.png](images%2FMC3.png)

6. When finished select `Done` and/or `Create New World` to create the world.
    1. Minecraft can be closed until the PDB model is generated, or kept open.

### (Optional) Download a PDB file from RCSB PDB
1. Navigate to [https://rcsb.org](https://www.rcsb.org/)
2. In the Search bar, search for a biomolecule (For this example: "Green fluorescent protein")
![PDBsearch.png](images%2FPDBsearch.png)

3. Select a structure (For this example: the model named "1GFL")
    1. This is the entry for published structures. It contains 3D previews, sequences, and structure information as well as the original citation.
![PDBselect.png](images%2FPDBselect.png)
   
4. Select `Download Files` and download the `PDB Format` file. Note where this is saved.
![PDBdownload.png](images%2FPDBdownload.png)

### Open the mcPDB program
1. Select the desired mode
    1. For this example, select `Ribbon` and `Switch Layout` to finalize the selection
2. Press `Select PDB file` to select the downloaded PDB file.
    1. A dialog box will appear noting the maximum protein scale
3. *Alternative step:* Press `Select Included PDB` to select the included GFP model
4. Press `Select Minecraft Save` and choose the Minecraft world
    1. **Note:** Double-click the name of the world and press `Ok`, no other folder is accepted
5. Ensure that `Show Backbone` is checked
6. Change `Protein scale` to `5`
7. Press `Create Minecraft Functions` and wait for the confirmation dialog box.
    1. This indicates that the program has finished creating Minecraft functions that will generate the model.
    2. The program *does not* have to be closed in case changes need to be made and the Minecraft model regenerated.
![MCPDBexample.png](images%2FMCPDBexample.png)

### Open the Minecraft world
1. If not already open, start Minecraft and open the world intended to generate the model
2. Open the Minecraft console by pressing `t` on your keyboard
3. Type `/reload` to reload the Minecraft world and guarentee that the functions are recognized by the game
4. Move to a desired location in the world.
    1. The model will be generated *relative to the player* and best results for most models will be created while the player is on the ground.
    2. The Minecraft command `/tp @e ~ ~ ~1000` will send the player 1,000 blocks away from the current location. This is useful to separate multiple models
5. **To generate the model:**
    1. Type `/function protein:make_` which will bring up the main command, press `tab` to autocomplete for your model.
       * **Note:** Each model is generated with its unique PDB number. For the GFP example, it would be "1GFL"
    2. Press `Enter` to start the generation.
    3. Individual parts of the model can be separately generated by using the other functions: `backbone`, `atoms`, `heteroatoms`, `ribbon`, etc.
       * Due to limitations within Minecraft it may be neccessary to call these individual functions if the `make_` function does not create the full model
       * Any time a function is run, stand on the black block that is generated to ensure the model components are placed correctly.

## Glossary of terms

1. X-ray Crystallography
: A method of determining the structure of a molecule by shooting X-rays at a crystal of the molecule. The x-rays are
deflected by the electrons surrounding the atoms of the molecule. By measuring this "diffraction" pattern, the structure
of the molecule can be determined.

2. PDB
: The Protein Data Bank (PDB) file is a database of coordinates and other information that describes the structure of a 
molecule or other biomolecule. The PDB file contains a lot of useful information but is often not human-readable and
 requires another program to visualize the structure.

3. Protein/Enzyme
: A protein is the biomolecule that makes up the structural and functional machines of all cells. Protein is a more general
term for any of these molecules made from amino acids and encoded by the DNA of the organism. Enyzmes are proteins that
 have a specific function, such as catalyzing a reaction to make a product.

4. Primary, Secondary, Tertiary, Quarternary structures
: Proteins can be described in terms of their structure. The primary structure is the first level of structure and is the
 amino acid sequence of the protein. Secondary structure are the local structures within stretches of amino acids in a 
protein such as alpha helices and beta sheets. Tertiary structure is the overall structure of the protein and is the primary
structure folded into a 3D shape. Quaternary structure describes when multiple proteins come together to form a larger complex
 potentially with more or a different function than the individual proteins.

5. Amino Acid
: Amino acids are the building blocks of proteins. Each individual amino acid "residue" has backbone atoms: An amino (N) group,
 a carboxyl (C=O) group, and a center carbon atom. The center carbon has a variable "R" group which may be as small as a single
 hydrogen atom or as large as a carbon ring structure. The R group determines the properties of the amino acid.

6. Backbone and Sidechain
: These terms refer to the parts of an amino acid. The backbone is the amino and carboxyl groups and the center carbon, 
thus when visualized, appears to be a long string that snakes through the protein. The sidechain is the variable R group.
that gives each individual amino acid its unique properties. In certain models, these are visualized as shapes that protrude
from the backbone.

7. Ligand, Co-factor, Substrate
: These terms refer to small-to-medium sized molecules that interact with proteins. A ligand is a molecule that binds to a protein
 and may change the function of the protein. A co-factor is a molecule that is required for the protein to function. A substrate
 is a molecule that is acted upon by the protein which may be changed into a product.

8. DNA and RNA
: These molecules represent the beginning and middle stage of the central dogma: DNA is the molecule that makes up the 
genome, where genetic information is stored and inherited. RNA is the short-lived messenger molecule that is transcribed 
from the DNA. Some RNA molecules are translated into proteins, but others may have other functions. DNA and RNA differ 
in structure as well as function: RNA has an extra hydroxyl group on its ribose sugar and is single-stranded, while DNA 
lacks this hydroxyl and is often double-stranded.

9. Heteroatom and Atom
: These terms are used to describe the atoms that make up the molecules in the PDB file. Both are atoms and most often
Carbon, Oxygen, Nitogen, Phosphorous, and Sulfur, however some heteroatoms are metals or other elements. In the PDB file,
the Protein, DNA, and/or RNA atoms are denoted as "atoms", while the atoms that make up ligands, co-factors, and substrates are denoted as
"heteroatoms"

10. Bond
: A bond is the connection between two atoms and within the structure created by the PDB file. This represents the sharing
of electrons between two atoms (in "covalent bonds"). Hydrogen and ionic bonds are not represented in the PDB file.

## Description of Program modes

1. Features common to most-or-all modes
    1. `Scale determination: `Once a PDB file is loaded, the program will determine the size of the model and suggest a
maximum scale for the model. This is to prevent the model from being too large for Minecraft's limited up-and-down (Y) axis.
In the current version, this appears as a pop-up.
    2. `Rotation of model: `Once the user starts generating the model, the model will rotate such that the shortest dimension
will become the up-and-down (Y) axis. This is to prevent the model from being too large for Minecraft.
    3. `Removal of Hydrogen and Water: `Due to the nature of X-ray crystallography, hydrogen atoms are often not captured
in the PDB file. Additionally, water molecules are often present in the crystal and are not part of the protein. If present
these atoms are removed from the visualization.
    4. `Removal of ambiguous residues: `Some PDB files contain amino acids that are not fully resolved. This means that the
exact orientation of amino acid residues are not known. The ambiguous residues are removed from the visualization.
    5. `Color of chains: `In modes that color the backbone of the protein by default or optionally, the chains will be colored
based on a preset set of brightly colored blocks. This may be made customizable in the future versions.
    6. `Minecraft datapack: `When a new Minecraft world first has model functions generated, a "datapack" is required. 
The program will automatically generate the datapack file structure and place the required pack.mcmeta file in the datapack.
   
3. Custom
: This mode allows for the most customization of the visualization of atoms and bonds. Useful if you want to add, remove,
or modify most elements of the model.

4. Skeleton
: Makes a simple model of the protein backbone. Useful for visualizing the overall shape of the protein with or without 
amino acid side chains.

5. X-ray
: Preset that creates a model that is similar to the default view of the PDB file. However, the default setting for the
visualization of the atoms are set to glass, which allows for the visualization of the bonds between atoms.

6. Space Filling 
: This mode creates a model where the atoms are represented by spheres that are scaled to the size of the atom. This gives
the general appearance of what a protein would look like if it were scaled up. Bonds are still created by default but only
visible if the atoms are made of glass. **Caution:** This mode may take a long time to run and may take Minecraft a long
time to process.

7. Amino Acid 
: This mode creates a model where the amino acids are represented by a single sphere. This is no longer a true representation
however, it is useful for visualizing the overall shape of the protein and the location/identity of the amino acids.

8. Ribbon
: This is preset creates a cartoon-like representation of the protein. The backbone is presented as a smoothed line. Residues
that are part of either an alpha-helix or beta-sheet are represented as ribbons. The ribbons are colored based on the peptide
or DNA/RNA chain to which they belong. This mode is useful for visualizing the secondary and tertiary structure of the protein.

## Description of options

1. Atom Scale
: This option allows the user to change the size of the atoms by applying a scaling factor to the radius of the spheres 
that will represent those atoms.

2. Protein Scale
: This option allows the user to change the size of the protein by applying a scaling factor to the distance between
each atoms. Thus, the protein will be scaled up or down. This option is useful for visualizing the bonds between each atom
since `Atom Scale` will not change the distance between atoms and is a separate option. 

3. "Select _____ atom"
: These sets of options allow the user to individually select the Minecraft block that will represent a particular atom,
group of atoms, or bond. The user may select a block from a curated list from the current version of
Minecraft.

4. Heteroatom
5. Bonds
